(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a(42)},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},39:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),c=a.n(o),i=a(20),l=a(44),s=a(16),u=a(17),m=a(22),d=a(21),f=(a(30),Object(n.memo)(function(e){var t=e.types,a=e.changeType,n=e.selected;return r.a.createElement("div",{className:"TipoTempo"},t.map(function(e,t){return r.a.createElement("button",{key:e.name,onClick:function(){return a(e)},className:e.name===n.name?"active":""},e.name)}))}));function v(e){return e>9?e:"0".concat(e)}function p(e){var t=v(Math.floor(e/60)),a=v(Math.floor(e%60));return"".concat(t,":").concat(a)}a(31);var E=function(e){var t=e.time,a=e.status,n=e.progress;document.title="(".concat(p(t),") Pomodoro");var o=180*Math.PI,c=o-n/100*o;return r.a.createElement("div",{className:"Cronometro"},r.a.createElement("svg",{width:"100%",viewBox:"0 0 ".concat(200," ").concat(200)},r.a.createElement("circle",{stroke:"cyan",fill:"#333",strokeWidth:5,r:90,cx:100,cy:100}),r.a.createElement("circle",{stroke:"gray",fill:"transparent",strokeWidth:5,strokeDasharray:o+" "+o,style:{strokeDashoffset:c},r:90,cx:100,cy:100})),r.a.createElement("div",null,r.a.createElement("h1",null,p(t)),r.a.createElement("p",null,a)))},g=(a(32),Object(n.memo)(function(e){var t=e.start,a=e.reset,n=e.pause,o=e.status;return r.a.createElement("div",{className:"Controles"},!o&&r.a.createElement("button",{onClick:t,className:"inicio"},"Iniciar"),"Finalizado"===o&&r.a.createElement("button",{onClick:t,className:"inicio"},"Reiniciar"),("Pausado"===o||"Tempo"===o)&&r.a.createElement("div",null,r.a.createElement("button",{onClick:a,className:"reiniciar"},"Desligar"),r.a.createElement("button",{onClick:n,className:"Pausado"===o?"continuar":"pausa"},"Pausado"===o?"Continuar":"Pausar")))})),h=(a(33),Object(n.memo)(function(){return r.a.createElement("div",{className:"AtalhosTeclado"},r.a.createElement("i",{className:"far fa-keyboard"}),r.a.createElement("div",{className:"AtalhosTeclado-box"},r.a.createElement("div",{className:"AtalhoTeclado"},r.a.createElement("div",null,"Play / Pause / Resume"),r.a.createElement("div",null,r.a.createElement("kbd",null,"Space"))),r.a.createElement("div",{className:"AtalhoTeclado"},r.a.createElement("div",null,"Reiniciar"),r.a.createElement("div",null,r.a.createElement("kbd",null,"Esc"))),r.a.createElement("div",{className:"AtalhoTeclado"},r.a.createElement("div",null,"Iniciar sprint"),r.a.createElement("div",null,r.a.createElement("kbd",null,"1"))),r.a.createElement("div",{className:"AtalhoTeclado"},r.a.createElement("div",null,"Iniciar intervalo curto"),r.a.createElement("div",null,r.a.createElement("kbd",null,"2"))),r.a.createElement("div",{className:"AtalhoTeclado"},r.a.createElement("div",null,"Iniciar intervalo longo"),r.a.createElement("div",null,r.a.createElement("kbd",null,"3")))))})),k=(a(34),Object(n.memo)(function(e){var t=e.sound,a=e.toggleSound;return r.a.createElement("button",{className:"AvisoSonoro ".concat(t&&"active"),onClick:a,title:t?"Desabilitar aviso sonoro":"Habilitar aviso sonoro"},r.a.createElement("i",{className:"fa fa-volume-".concat(t?"up":"mute")}))})),T=(a(35),Object(n.memo)(function(e){var t=e.tarefa,a=e.painelTarefa;return r.a.createElement("button",{className:"PainelTarefas ".concat(t&&"active"),onClick:a,title:t?"Desabilitar painel de tarefas":"Habilitar painel de tarefas"},r.a.createElement("i",{className:"fa fa-tasks"}))})),y=a(4),b=a(11),S=Object(n.createContext)({}),N=a(45),O=a(46);a(36);function j(e){var t=e.task,a=e.index,o=Object(n.useRef)(),c=Object(n.useContext)(S),i=c.move,l=c.handleStatus,s=Object(N.a)({item:{type:"TAREFA",id:t.id,index:a},collect:function(e){return{isDragging:e.isDragging()}}}),u=Object(y.a)(s,2),m=u[0].isDragging,d=u[1],f=Object(O.a)({accept:"TAREFA",hover:function(e,n){if(e.id!==t.id){var r=e,c=t,l=o.current.getBoundingClientRect(),s=(l.bottom-l.top)/2,u=n.getClientOffset().y-l.top;r.order<c.order&&u<s||r.order>c.order&&u>s||(i(e.index,a),e.index=a)}}});return d((0,Object(y.a)(f,2)[1])(o)),r.a.createElement("div",{ref:o,className:m?"Arrastar tarefa":"Tarefa"},r.a.createElement("div",null,t.title),r.a.createElement("span",{onClick:function(){return l(t)}},t.closed?"Fazer":"Finalizar"))}a(39);var w=Object(n.memo)(function(e){e.selectedTaskType;var t=Object(n.useState)(""),a=Object(y.a)(t,2),o=a[0],c=a[1],i=[{name:"Todas",value:-1},{name:"Fazendo",value:!1},{name:"Finalizadas",value:!0}],l=Object(n.useState)(JSON.parse(window.localStorage.getItem("pomodoro-react-tasks"))||[]),s=Object(y.a)(l,2),u=s[0],m=s[1],d=Object(n.useState)(i[0]),v=Object(y.a)(d,2),p=v[0],E=v[1];return Object(n.useEffect)(function(){window.localStorage.setItem("pomodoro-react-tasks",JSON.stringify(u))},[u]),r.a.createElement(S.Provider,{value:{tasks:u,move:function(e,t){m(Object(b.a)(u,function(a){var n=a[e];a.splice(e,1),a.splice(t,0,n)}))},handleStatus:function(e){console.log("task:",e),m(Object(b.a)(u,function(t){var a=t.findIndex(function(t){return t.id===e.id});t[a].closed=!t[a].closed}))}}},r.a.createElement(f,{types:i,selected:p,changeType:E}),r.a.createElement("div",{className:"Tarefa"},r.a.createElement("input",{value:o,onChange:function(e){return c(e.target.value)},placeholder:"Inserir tarefa"}),r.a.createElement("span",{onClick:function(){m(Object(b.a)(u,function(e){e.push({id:e.length+1,title:o,closed:!1})})),c("")}},"Criar"),r.a.createElement("span",{onClick:function(){localStorage.removeItem("pomodoro-react-tasks"),window.location.reload()}},"Limpar todas")),r.a.createElement("div",{className:"Tarefas"},r.a.createElement("div",{className:"Tarefas-box"},u.length>0?u.filter(function(e){return e.closed===p.value||-1===p.value}).map(function(e,t){return r.a.createElement(j,{key:e.id,index:t,task:e})}):r.a.createElement("div",{className:"Tarefa"},"Sem tarefas"))))}),I=(a(41),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleKeyUp=function(e){"INPUT"!==e.target.tagName&&(" "===e.key?n.pauseTimer():"Escape"===e.key?n.resetTimer():e.key>=1&&e.key<=n.props.types.length&&n.changeType(n.props.types[e.key-1]))},n.changeType=function(e){n.resetTimer(),n.setState({selectedType:e,time:e.time,running:!1})},n.tick=function(){if(n.state.time<=1){n.stopInterval(),n.setState({running:!1}),n.state.sound&&n.sound.play();try{navigator.serviceWorker.register("service-worker.js").then(function(e){e.showNotification("".concat(n.state.selectedType.name," finished!"))})}catch(e){console.log("Erro de notifica\xe7\xe3o",e)}}n.setState(function(e){return{time:e.time-1}})},n.stopInterval=function(){clearInterval(n.state.interval),n.setState({interval:null})},n.startTimer=function(){n.setState(function(e){return{running:!0,interval:setInterval(n.tick,1e3),time:e.time>0?e.time:e.selectedType.time}}),n.sound.pause(),n.sound.currentTime=0},n.resetTimer=function(){n.stopInterval(),n.setState(function(e){return{time:e.selectedType.time,running:!1}})},n.pauseTimer=function(){n.state.interval?n.stopInterval():n.startTimer()},n.getStatus=function(){var e=n.state,t=e.time,a=e.running,r=e.interval;return 0===t?"Finalizado":a&&!r?"Pausado":a?"Tempo":void 0},n.getProgress=function(){var e=n.state.time,t=n.state.selectedType.time;return(t-e)/t*100},n.handleToggleSound=function(){n.setState(function(e){return{sound:!e.sound}},function(){window.localStorage.setItem("pomodoro-react-sound",n.state.sound)})},n.handleToggleTask=function(){n.setState(function(e){return{taskStatus:!e.taskStatus}},function(){window.localStorage.setItem("pomodoro-react-taskStatus",n.state.taskStatus)})},n.state={selectedType:e.types[0],time:e.types[0].time,interval:null,running:!1,sound:JSON.parse(window.localStorage.getItem("pomodoro-react-sound"))||!0,taskStatus:JSON.parse(window.localStorage.getItem("pomodoro-react-taskStatus"))||null},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.handleKeyUp),Notification.requestPermission(),this.sound=new Audio("bell.flac"),this.sound.preload="auto"}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.handleKeyUp)}},{key:"render",value:function(){var e=this.state,t=e.time,a=e.selectedType,n=e.sound,o=e.taskStatus,c=this.props.types;return r.a.createElement("div",{className:"Conteudo"},r.a.createElement("div",{className:"Pomodoro"},r.a.createElement(E,{time:t,status:this.getStatus(),progress:this.getProgress()}),r.a.createElement(f,{types:c,selected:a,changeType:this.changeType}),r.a.createElement(g,{start:this.startTimer,reset:this.resetTimer,pause:this.pauseTimer,status:this.getStatus()}),r.a.createElement(T,{tarefa:o,painelTarefa:this.handleToggleTask}),r.a.createElement(h,null),r.a.createElement(k,{sound:n,toggleSound:this.handleToggleSound})),o&&r.a.createElement("div",{className:"PainelTarefa"},r.a.createElement("h1",null,"Tarefas"),r.a.createElement(w,null)))}}]),a}(n.Component));I.defaultProps={types:[{name:"Pomodoro Sprint",time:1500},{name:"Intervalo curto",time:300},{name:"Intervalo longo",time:900}]};var C=I;c.a.render(r.a.createElement(l.a,{backend:i.a},r.a.createElement(C,null)),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.ba2b55d8.chunk.js.map